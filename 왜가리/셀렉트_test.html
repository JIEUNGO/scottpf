

<!doctype html>
<html lang="ko">
   <head>
      <meta charset="UTF-8">
      <meta name="Author" content="">
      <meta name="Keywords" content="">
      <meta name="Description" content="">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.js"></script>
      <script type="text/javascript">
      /*$(function(){
            //spna에 이벤트걸면 안됨, 포커스가 이동안함 
            var select = $(".selectBox");
            var selectBtn = $(".selectBox button");
            var beforeObj = null;
            var selectHansdller = function(){
               console.log(selectBtn.index($(this)));
               if(beforeObj != $(this)) {
                  //console.log(beforeObj);
                  //console.log($(this));

               $("ul:visible",select).slideUp("fast");
               //하위요소 선택하고  싶을때 , 앞에 써주어야함 
               var o = $(this).parent().next();
               o.slideDown("normal");
               o.beforeObj = selectBtn.index($(this));
               } 
            }
            selectBtn.on("mouseover focus",selectHansdller);
            var selMouseLeave = function(){
               $("ul:visible",select).slideUp("fast");
               beforeObj = null;
            }
            select.on("mouseleave",selMouseLeave);

            var selAtagClick = function(e){
               e.preventDefault();
               var t = $(this).text();
               var btn = $(this).closest(".selectBox").find("button");
               var inputH = $(this).closest(".selectBox").find(":hidden");
               btn.text(t);
               inputH.val($(this).attr("href"));
            }
            $("a",select).on("click",selAtagClick);
         });*/
      /*
         객체방식
         1. 객체 생성함수 정의 (첫글자가 대문자)
            new Date() => function Date(){}

         2. 속성, 메서드  (이벤트 등록, 핸들러) 정의 


         객체생성,핸들러, this 틀림 (3가지)
         1.이벤트 대상이 this
         2.효과 적용한 요소 this
         3.참조대상 this,객체를 가르킴 
      */


      //방법1
      function ObjSelect(obj,obj2){ //객체 생성 함수
         this.myEl = obj;
         this.myBtn = obj2;
         /*this.bindEvent = function(){
            if(this.myEl == ".sel_1"){
               alert(1);
            }else{
               alert(2)
            }
         }*/
         this.bindEvent();
      }

      //방법2. 메모리 절약 
      //이벤트 등록 메서드 
      ObjSelect.prototype.bindEvent = function(){
         /*
         if(this.myEl == ".sel_1"){
            alert(1);
         }else{
            alert(2)
         }
         */
         //alert(123);
         $(document).on("click",this.myEl + " button", $.proxy(this.selectHandller,this));
         //
         $(document).on("click",this.myEl + " ul a",$.proxy(this.selectChangeText,this));
      }
      ObjSelect.prototype.selectChangeText = function(e){
         e.preventDefault();
         var $myThis = $(e.target);
         var $selEl = $(this.myEl); 
         var $selUl = $("ul",$selEl);
         var $button = $("button",$selEl);
         var $theText = $myThis.text();
         $button.text($theText);
         $selUl.hide();
         $button.css({"background-position-y":"3px"});
      }

      ObjSelect.prototype.selectHandller = function(e){
         var $myThis = $(e.target);
         var $selEl = $(this.myEl); 
         var $button = $("button",$selEl);
         //제이쿼리 변수는 앞에 $를 써주는것이 좋음 ,자바스크림트에선 사용할수 없다는 뜻   
         var $myUl = $selEl.find("ul")   
         //alert(00);
         //console.log($(this));
         //console.log(this.myEl);
         //console.log(this);
         //console.log($(e.target));
         if($myUl.css("display") == "none"){
            $myUl.show();
            $button.css({"background-position-y":"-108px"});
         }else{
            $myUl.hide();
            $button.css({"background-position-y":"3px"});
         }
      } 

      $(function(){
         s1 = new ObjSelect(".sel_1","btn1"); //객체 생성
         s2 = new ObjSelect(".sel_2","btn2"); //객체 생성 
      });
      </script>
      <style type="text/css">
         *{margin: 0;padding: 0; box-sizing: border-box;}
         li{list-style: none;}
         a{text-decoration: none; color: #333;}
         body{font:13px "맑은고딕", Malgun Gothic, sans-serif;color: #333;}
         button:hover{cursor: pointer;}
         .selectBox{display: inline-block;position: relative;}
         .selectBox button{padding: 0 40px 0 10px;height: 25px;line-height: 25px;background: url(img/arrow.png) right 3px no-repeat;border: none;width: 105px;}
         .selectBox span{border: 1px solid #ccc;display: inline-block;padding-right: 2px;}
         .selectBox ul{border: 1px solid #ccc;position: absolute;width: 100%; top: 27px;display: none;z-index: 10;background-color: fff;}
         .selectBox ul a{display: block; height: 25px;line-height: 25px;text-align: center;}
         .selectBox ul a:hover, .selectBox ul a:focus{background-color: #efefef;}
      </style>
        <title>셀렉트박스</title>
   </head>
   <body>
      <select name="" id="">
         <option value="">옵션텍스트1</option>
         <option value="">옵션텍스트2</option>
         <option value="">옵션텍스트3</option>
         <option value="">옵션텍스트4</option>
      </select>   
      <br/><br/><br/><br/><br/><br/><br/>
      <div class="selectBox sel_1">
         <span><button>네이버</button></span>
         <ul>
            <li><a href="www.naver.com">네이버</a></li>
            <li><a href="www.daum.net">다음</a></li>
            <li><a href="www.google.com">구글</a></li>
            <li><a href="www.nate.com">네이트</a></li>
         </ul>
         <input type="hidden" name="">
      </div>   
      <br/><br/><br/><br/><br/><br/><br/>
      <div class="selectBox sle_2">
         <span><button>네이버2</button></span>
         <ul>
            <li><a href="www.naver.com">네이버</a></li>
            <li><a href="www.daum.net">다음</a></li>
            <li><a href="www.google.com">구글</a></li>
            <li><a href="www.nate.com">네이트</a></li>
         </ul>
         <input type="hidden" name="">
      </div>
   </body>
</html>


